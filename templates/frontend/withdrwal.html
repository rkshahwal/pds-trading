<!doctype html>
<html lang="en">
{% load static %}
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ADM | Withdrawal</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{% static "frontend/css/styles.css" %}">
</head>

<body>

  <div class="container-fluid">
    <form method="post" class="w-100">
    {% csrf_token %}
    <div class="row py-2 py-sm-3 py-md-3 py-lg-3 py-xl-3 py-xl-3 py-xxl-3 ">
      <div class="col-12 ">
        <a href="javascript:void(0);" onclick="history.back()"> <i class="fa-solid fa-arrow-left text-dark"></i></a>
      </div>

    </div>
    <div class="row  mt-3  ">
      <div class=" col-7 col-md-10 col-sm-9 col-lg-10 ">
        <p class="Withdraw-2  mt-2  mt-md-0 mt-sm-0 mt-lg-0">Withdraw</p>
      </div>
      <div class="col-5  col-md-2 col-sm-3 col-lg-2 ">
        <p class="Withdraw-Head float-end  mt-2">Withdraw details</p>
      </div>
    </div>
    <div class="row  mt-3 ">

      <div class="col-9     col-md-10 col-sm-10 col-lg-11 ">
        <p class="recharge-Currency   "> Currency</p>
      </div>
      <div class="col-3   col-md-2 col-sm-2 col-lg-1 ">
        <p class="recharge-INR float-end  ">INR <i class="fa-solid fa-arrow-right Recharge-left-icon  ms-1  "></i>
        </p>
      </div>

      <div class="col-12">
        <p> ⚠⚠⚠निकासी नियम (केवल रिचार्ज सदस्य):⚠⚠ </p>
        <ol>
          <li> ✅ सोमवार से शुक्रवार सुबह 7 बजे से 9 बजे तक, और उसी दिन शाम 5 बजे तक पहुंचें </li>
          <li> ✅ कृपया अपनी कुल रिचार्ज राशि अपने खाते में रखें, अन्यथा आप सफलतापूर्वक निकासी नहीं कर पाएंगे </li>
          <li> ✅ निकासी पर 20% कर लगता है (खाते की शेष राशि से अलग से काटा जाता है, कृपया ध्यान दें </li>
        </ol>
      </div>

    </div>


    <div class="row  mt-5 ">
      <div class="col-8     col-md-10 col-sm-9 col-lg-11 ">
        <p class="recharge-Currency  ">Quantity</p>
      </div>
      <div class="col-4   col-md-2 col-sm-3 col-lg-1  ">
        <p class="Withdraw-bal float-end  text-muted ">Available <span id="bal"> {{amount}} </span>INR</p>
      </div>
    </div>

     <div class="row   ">
      <div class="col-12    ">
        <input class="form-control form-control  " type="number"
          placeholder="Enter withdrawal quantity" aria-label=".form-control-lg example" id="input"  name="amount">
      </div>

      <div class="col-12" id="error"></div>
      {% if messages %}
        <div class="col-12" id="backenderror">
          {% for message in messages %}
          <div class="alert alert-primary alert alert-danger alert-dismissible fade show p-2  mt-2 mb-0 " role="alert"  style="height:40px; ">
            {{ message }}
            <button type="button" class="btn-close  " data-bs-dismiss="alert" aria-label="Close"  style="height:1px; "></button>
          </div>
          {% endfor %}
        </div>
      {% endif %}

      <div class="col-12  d-grid   mt-3   ">

        <button class="btn btn-danger"  id="btn" type="submit" >Submit</button>


      </div>
    </div>

 

    <div class="row  mt-4 ">
      <div class="col-9     col-md-10 col-sm-11 col-lg-11   ">
        <p class="Withdraw-name  text-muted">Withdrawal fee</p>
      </div>
      <div class="col-3   col-md-2 col-sm-1 col-lg-1   ">
        <p class="Withdraw-bal  text-danger float-end  ">{{tax}}%
        </p>
      </div>
    </div>

    <div class="row    ">
      <div class="col-9     col-md-10 col-sm-11 col-lg-11   ">
        <p class="Withdraw-name ms-0 text-muted   ">Ordinary withdrawal</p>
      </div>
      <div class="col-3   col-md-2 col-sm-1 col-lg-1 ">
        <p class="Withdraw-bal  text-muted float-end "><span  id="Ordinary">0.00</span> INR
        </p>
      </div>
    </div>

 
    </div>
  </form>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script>
    aval = document.querySelector('#bal')
    inp = document.querySelector('#input')
    show=document.querySelector('#error')
    show1=document.querySelector('#Ordinary')
    btn=document.querySelector('#btn')
   
    btn.disabled=true;
    
    a=aval.innerText   
    b=Number(a)

    inp.addEventListener("input", function () {
  
      if (inp.value>b ) {
        btn.disabled = true;
        console.log("error AMt greater desgin by ketan ")
        show.innerHTML='<div class="alert alert-primary alert alert-danger alert-dismissible fade show p-2  mt-2 mb-0 " role="alert"  style="height:40px; ">Error ! Withdrawal Amount is Large<button type="button" class="btn-close  " data-bs-dismiss="alert" aria-label="Close"  style="height:1px; "></button></div>'
      }
     
     else{
      btn.disabled=false;
      show.innerHTML=''
     }
      
      show1.innerText=inp.value-inp.value*{{tax}}/100;

    })

  </script>
</body>

</html>